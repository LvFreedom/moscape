{% extends "./inc/base.html" %}
{% block style %}
<style>
.user{
	margin:12px 0;
}
.form-group{
	padding:0 15px;
}
@media (max-width: 768px){
	.form-inline .form-control {
	    display: inline-block;
	    width: auto;
	    vertical-align: middle;
	}
}

.user-name span,
.user-name b{
	display: inline-block;
	float:left;
	height:34px;
	line-height: 34px;
	font-size:16px;
}
.user-name b{
	color:#36b0c8;
}

.select-type{
	position:relative;
	padding:15px;
}
.video-list{
	padding:50px 0;
}
.video-list ul{
	margin:0;
	padding:0;
}
.video-list ul li{
	list-style: none;
}
.movie-type,
.supplier-type{
	padding-left:54px;
	padding-bottom:10px;
}
.movie-type,
.movie-type a,
.supplier-type,
.supplier-type a{
	float:left;
}
.type{
	position:absolute;
	left:0;
	font-size:16px;
	padding:5px 7px;
}
.movie-type a,
.supplier-type a{
	display: inline-block;
	margin:0px 5px;
	padding:5px 12px;
	font-size:16px;
	border-radius: 16px;
}
.active{
	background: #36b0c8;
	color:#fff !important;
}
.video-info li dl dt img{
	width:100%;
}
.video-info li dl dd ul li{
	width:100%;
	margin-top:5px;
	overflow: hidden;
	text-overflow:ellipsis;
	white-space: nowrap;
}
.video-info>li{
	margin-bottom:15px;
	overflow: hidden;
}
.video-info>li>div{
	position:relative;
	height:100%;
}
.overlay-bg{
	position:absolute;
	top:100%;
	left:0;
	width:100%;
	height:100%;
	background: rgba(0,0,0,0.65);
	transition: all 0.3s linear;
}
.video-info>li:hover .overlay-bg{
	top:0%;
}
.top-0{
	top:0 !important;
}
.overlay-bg a{
	margin:0 auto;
	margin-top:30%;
	width:50px;
	height:50px;
	line-height: 50px;
	border-radius: 50%;
	text-align: center;
}
.overlay-bg .add{
	background: #39adc4;
	color:#fff;
}
.overlay-bg .add-ok{
	position:relative;
	border:2px solid #39adc4;
}
.overlay-bg .add-ok i{
	display: inline-block;
	width:20px;
	height:12px;
	border-left:2px solid #39adc4;
	border-bottom: 2px solid #39adc4;
	transform:rotate(-49deg);
	position: absolute;
	top:30%;
	left:29%;
}
.in{
	display: block;
}
.out{
	display: none;
}

.able-watch{
	height:34px;
	line-height: 34px;
}
</style>
{% endblock %}
{% block content %}

<section class="user clear">
	<div class="col-xs-12 col-md-4 clear">
		<form class="form-inline" action="">
			<div class="form-group">
				<label for="">选择用户</label>
				<select class="form-control select-user">
					<option value="">--请选择用户--</option>
					{% for user in userlist %}
					<option value="{{user.username}}">{{user.username}}</option>
					{% endfor %}
				</select>
			</div>
			<!-- <div class="form-group input-user">
				<label for="">输入用户</label>
				<input class="form-control" type="text" placeholder="请输入用户名">
				<a class="btn btn-default btn-info">确定</a>
			</div> -->
		</form>	
	</div>
	<div class="user-name col-xs-12 col-md-3">
		<span>选择的用户：</span>
		<b></b>
	</div>
	<div class="able-watch col-xs-12 col-md-2 col-md-offset-3">
		<label class="checkbox-inline i-checks">
            <input type="checkbox" value="0" name="able_watch" class="parsley-validated"><i></i> 只显示已添加
        </label>
	</div>
</section>
<section class="vbox">
<section class="scrollable wrapper">
	<section class="clear select-type">
		{% for val in typevar %}
		{% if val.option.type == 'checkbox' %}                  
			<div class="movie-type">
				<label class="type">类　别 : </label>
				<a class="movieall active" data-type="all" href="javascript:movietype('all');">全部</a>
				{% for k,v in val.option.rules.choices %}
				<a class="movie{{k}}" data-type="{{k}}" href="javascript:movietype({{k}});">{{v}}</a>
				{% endfor %}
			</div>
		{% elif val.option.type == 'select' or val.option.type == 'radio' %}
			<div class="supplier-type">
				<label class="type">供应商 : </label>
				<a class="supplierall active" data-type="all" href="javascript:supplier('all');">全部</a>
				{% for k,v in val.option.rules.choices %}
				<a class="supplier{{k}}" data-type="{{k}}" href="javascript:supplier({{k}});">{{v}}</a>
				{% endfor %}
			</div>	
		{% endif %}
		{% endfor %}
		
	</section>
	<section class="video-list clear">
		<ul class="clear video-info">
			{% for movie in movielist %}
			<li class="col-xs-4 col-sm-3 col-md-2">
				<div>
					<dl>
						<dt>
							{% if movie.video_cover == "" or movie.video_cover == undefined %}
							<img src="/static/admin/img/m0.jpg" alt="">
							{% else %}
							<img src="{{movie.video_cover}}" alt="">
							{% endif %}
						</dt>
						<dd>
							<ul>
								<li>名称：
									{% if movie.title == "" or movie.title == undefined %}
									暂无
									{% else %}
									{{movie.title}}
									{% endif %}
								</li>
								<li>主演：
									{% if movie.main_actor == "" or movie.main_actor == undefined %}
									暂无
									{% else %}
									{{movie.main_actor}}
									{% endif %}
								</li>
								<li>导演：
									{% if movie.director == "" or movie.director == undefined %}
									暂无
									{% else %}
									{{movie.director}}
									{% endif %}
								</li>
							</ul>
						</dd>
					</dl>
					<div class="overlay-bg bg-num{{movie.id}}">
						<input type="hidden" value="{{movie.id}}"/>
						<a class="add in" href="#">添加</a>
						<a class="add-ok out" href="#"><i></i></a>
					</div>
				</div>
			</li>
			{% endfor %}
		</ul>
		<div class="col-md-9 text-right text-center-xs pagelist">
            {{pagerData | safe}}
        </div>
	</section>
</section>
</section>
{% endblock %}
{% block script %}
<script src="/static/admin/js/movie.js"></script>
<script src="/static/admin/js/pages.js"></script>
{% endblock %}